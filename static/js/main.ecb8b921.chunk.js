(this.webpackJsonplex=this.webpackJsonplex||[]).push([[0],{17:function(e){e.exports=JSON.parse('[{"code":"p1","name":"Air Compressor 12 GAS","type":"plain","availability":true,"needing_repair":false,"durability":3000,"max_durability":3000,"mileage":null,"price":4500,"minimum_rent_period":1},{"code":"p2","name":"Air Compressor 5 Electric","type":"plain","availability":true,"needing_repair":false,"durability":1500,"max_durability":2000,"mileage":null,"price":6500,"minimum_rent_period":1},{"code":"p3","name":"Dia Blade 14 inch","type":"plain","availability":true,"needing_repair":false,"durability":40000,"max_durability":50000,"mileage":null,"price":3000,"minimum_rent_period":2},{"code":"p4","name":"Copper Blade 5 inch","type":"plain","availability":true,"needing_repair":true,"durability":0,"max_durability":2000,"mileage":null,"price":200,"minimum_rent_period":2},{"code":"p5","name":"Copper Blade 5 inch","type":"plain","availability":true,"needing_repair":true,"durability":0,"max_durability":2000,"mileage":null,"price":200,"minimum_rent_period":2},{"code":"p6","name":"Copper Blade 8 inch","type":"plain","availability":true,"needing_repair":false,"durability":1500,"max_durability":2000,"mileage":null,"price":300,"minimum_rent_period":2},{"code":"p7","name":"Beam Clamp","type":"plain","availability":true,"needing_repair":false,"durability":15000,"max_durability":20000,"mileage":null,"price":800,"minimum_rent_period":30},{"code":"p8","name":"Beam Clamp","type":"plain","availability":true,"needing_repair":false,"durability":10000,"max_durability":20000,"mileage":null,"price":800,"minimum_rent_period":30},{"code":"p9","name":"Beam Clamp","type":"plain","availability":true,"needing_repair":false,"durability":5000,"max_durability":20000,"mileage":null,"price":800,"minimum_rent_period":30},{"code":"m1","name":"Boom lift 40","type":"meter","availability":true,"needing_repair":false,"durability":4000,"max_durability":8000,"mileage":10000,"price":1000,"minimum_rent_period":4},{"code":"m2","name":"Boom lift 60","type":"meter","availability":true,"needing_repair":false,"durability":8000,"max_durability":10000,"mileage":5000,"price":1500,"minimum_rent_period":4},{"code":"m3","name":"Boom lift 80","type":"meter","availability":true,"needing_repair":true,"durability":500,"max_durability":12000,"mileage":200,"price":2000,"minimum_rent_period":2},{"code":"m4","name":"Boom lift 100","type":"meter","availability":true,"needing_repair":false,"durability":4000,"max_durability":12000,"mileage":8500,"price":2500,"minimum_rent_period":2},{"code":"m5","name":"Boom lift 20","type":"meter","availability":true,"needing_repair":false,"durability":1200,"max_durability":8000,"mileage":600,"price":500,"minimum_rent_period":1},{"code":"m6","name":"Boom lift 20","type":"meter","availability":true,"needing_repair":false,"durability":8000,"max_durability":8000,"mileage":0,"price":500,"minimum_rent_period":1},{"code":"m7","name":"Boom lift 20","type":"meter","availability":true,"needing_repair":false,"durability":5000,"max_durability":8000,"mileage":1200,"price":500,"minimum_rent_period":1},{"code":"m8","name":"Boom lift 40","type":"meter","availability":true,"needing_repair":false,"durability":8000,"max_durability":10000,"mileage":2500,"price":1000,"minimum_rent_period":2}]')},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),r=a(10),l=a.n(r),c=a(8),o=a(4),s=a(16),d=a(6),u="DATA_LIST_REQUEST",b="DATA_LIST_SUCCESS",m="DATA_LIST_FAIL",j="FILTERED_LIST_SUCCESS",p="FILTERED_LIST_FAIL",O=Object(c.b)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0};case b:return{loading:!1,data:t.payload};case m:return{loading:!1,error:"something wrong"};default:return e}},confirmData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{datas:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{datas:[].concat(Object(d.a)(e.datas),[t.payload])};case p:return{error:"something wrong"};default:return e}}}),v=a(0),f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,g=Object(c.d)(O,f(Object(c.a)(s.a))),h=function(e){var t=e.children;return Object(v.jsx)(o.a,{store:g,children:t})},x=a(2),_=a(3),y=a(7),S=a.n(y),N=a(15),D=function(){return function(){var e=Object(N.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{null===localStorage.getItem("apiData")?localStorage.setItem("apiData",JSON.stringify([])):(a=JSON.parse(localStorage.getItem("apiData")),t({type:b,payload:a}))}catch(i){t({type:m,payload:"Something Wrong 500!"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(e){var t,a=Object.assign({},e),r=a.setOpen,l=a.setOpen3,c=a.setPrice,s=a.setSelectedItem,u=Object(o.b)(),b=Object(o.c)((function(e){return e.data.data})),m=n.a.useMemo((function(){return JSON.parse(localStorage.getItem("bookedItems"))||[]}),[]),j=n.a.useMemo((function(){return b.filter((function(e){return!m.find((function(t){return t.selectedData.name===e.name}))}))}),[b,m]),p=Object(i.useState)(null===(t=j[0])||void 0===t?void 0:t.name),O=Object(x.a)(p,2),f=O[0],g=O[1],h=null===b||void 0===b?void 0:b.find((function(e){return e.name===f})),y=Object(i.useState)(""),S=Object(x.a)(y,2),N=S[0],I=S[1],C=Object(i.useState)(""),k=Object(x.a)(C,2),w=k[0],T=k[1],B=Object(i.useState)(),E=Object(x.a)(B,2),F=E[0],A=E[1];Object(i.useEffect)((function(){!function(e,t){var a=new Date(e),i=new Date(t).getTime()-a.getTime(),n=Math.round(i/864e5);A(n)}(N,w)}),[N,w]);var P;P=F>=(null===h||void 0===h?void 0:h.minimum_rent_period);return Object(v.jsxs)("div",{className:"BookModal_wrapper",children:[Object(v.jsx)("h1",{children:"Book a product"}),Object(v.jsxs)("select",{defaultValue:"DEFAULT",onChange:function(e){g(e.target.value)},children:[Object(v.jsx)("option",{value:"DEFAULT",disabled:!0,hidden:!0,children:f})," ",null===j||void 0===j?void 0:j.map((function(e,t){return Object(v.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(v.jsxs)("div",{className:"selectedItem_details",children:[Object(v.jsxs)("p",{children:["Name: ",null===h||void 0===h?void 0:h.name]}),Object(v.jsxs)("p",{children:["Rental: ",null===h||void 0===h?void 0:h.minimum_rent_period]}),Object(v.jsxs)("p",{children:["Milleage:"," ",null===(null===h||void 0===h?void 0:h.mileage)?"N/A":null===h||void 0===h?void 0:h.mileage]}),Object(v.jsxs)("p",{children:["Repair Needed:"," ",!1===(null===h||void 0===h?void 0:h.needing_repair)?"false":"true"]})]}),Object(v.jsxs)("div",{className:"dates",children:[Object(v.jsxs)("label",{htmlFor:"From",children:["From ",""]}),Object(v.jsx)("input",{type:"date",value:N,onChange:function(e){return function(e){I(e.target.value)}(e)}}),Object(v.jsxs)("label",{htmlFor:"To",children:["To ",""]}),Object(v.jsx)("input",{type:"date",value:w,onChange:function(e){return function(e){T(e.target.value)}(e)}})]}),Object(v.jsx)("span",{className:"err_msg",children:!1===isNaN(F)?!0===P?"":"The rental period needs to be at least ".concat(null===h||void 0===h?void 0:h.minimum_rent_period," day"):""}),Object(v.jsxs)("div",{className:"exit_buttons",children:[Object(v.jsx)("button",{className:!0===isNaN(F)||!1===P?"not_validate":"yes_btn",onClick:function(){var e=JSON.parse(localStorage.getItem("apiData")),t=null===e||void 0===e?void 0:e.find((function(e){return e.name===f})),a=[Object(_.a)(Object(_.a)({},t),{},{availability:!1})].concat(Object(d.a)(e.filter((function(e){return e.name!==(null===t||void 0===t?void 0:t.name)}))));localStorage.setItem("apiData",JSON.stringify(a)),u(D());var i={selectedData:t,to:w,from:N},n=F*(null===t||void 0===t?void 0:t.price);c(n),s(i),r(!1)},disabled:!0===isNaN(F)||!1===P,children:"Yes"}),Object(v.jsx)("button",{className:"no_btn",onClick:function(){l(!1),r(!1)},children:"No"})]})]})},C=function(e){var t=e.setOpen3,a=e.price,i=e.selectedItem,n=Object(o.b)();return Object(v.jsxs)("div",{className:"confirm_modal_wrapper",children:[Object(v.jsx)("h1",{children:"Book a product"}),Object(v.jsxs)("div",{className:"confirm_info",children:[Object(v.jsxs)("p",{children:["your estimated price is $",a]}),Object(v.jsx)("small",{children:" Do you want to proceed?"})]}),Object(v.jsx)("button",{onClick:function(){var e;t(!1),n((e=i,function(){var t=Object(N.a)(S.a.mark((function t(a,i){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:j,payload:e}),(n=JSON.parse(localStorage.getItem("bookedItems"))||[]).push(e),localStorage.setItem("bookedItems",JSON.stringify(n))}catch(i){a({type:p,payload:"No data available!"})}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()))},children:"confirm"})]})},k=a(18),w=function(e){var t,a,r,l,c,s=e.setOpen2,u=e.setOpen4,b=Object(o.b)(),m=Object(i.useState)([]),j=Object(x.a)(m,2),p=j[0],O=j[1],f=Object(i.useState)(""),g=Object(x.a)(f,2),h=g[0],y=g[1],S=Object(i.useState)("select"),N=Object(x.a)(S,2),I=N[0],C=N[1],w=null===p||void 0===p?void 0:p.find((function(e){return e.selectedData.name===I}));n.a.useEffect((function(){O(JSON.parse(localStorage.getItem("bookedItems")))}),[]);var T=function(){u(!1),s(!1)};return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"BookModal_wrapper",children:[Object(v.jsx)("h1",{children:"Return a product"}),(p||[]).length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("select",{defaultValue:"DEFAULT",onChange:function(e){C(e.target.value)},children:[Object(v.jsx)("option",{value:"DEFAULT",disabled:!0,hidden:!0,children:I})," ",null===p||void 0===p?void 0:p.map((function(e,t){return Object(v.jsx)("option",{value:e.selectedData.name,children:e.selectedData.name},t)}))]}),Object(v.jsx)("div",{className:"selectedItem_details",children:"select"!==I&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:["Name: ",null===w||void 0===w||null===(t=w.selectedData)||void 0===t?void 0:t.name]}),Object(v.jsxs)("p",{children:["Rental: ",null===w||void 0===w||null===(a=w.selectedData)||void 0===a?void 0:a.minimum_rent_period]}),Object(v.jsxs)("p",{children:["Milleage:"," ",null===(null===w||void 0===w||null===(r=w.selectedData)||void 0===r?void 0:r.mileage)?"N/A":null===w||void 0===w||null===(l=w.selectedData)||void 0===l?void 0:l.mileage]}),Object(v.jsxs)("p",{children:["Repair Needed:"," ",!1===(null===w||void 0===w||null===(c=w.selectedData)||void 0===c?void 0:c.needing_repair)?"No":"Yes"]})]})}),Object(v.jsx)("div",{className:"mileageCount",children:Object(v.jsx)("input",{type:"number",name:"mileage",value:h,placeholder:"used mileage",onChange:function(e){return y(e.target.value)}})}),Object(v.jsxs)("div",{className:"exit_buttons",children:[Object(v.jsx)("button",{className:h?"yes_btn":"not_validate",onClick:function(){var e,t,a,i,n=null===p||void 0===p?void 0:p.filter((function(e){return e.selectedData.name!==I}));localStorage.setItem("bookedItems",JSON.stringify(n));var r=JSON.parse(localStorage.getItem("apiData")),l=Object(k.a)(new Date(null===w||void 0===w?void 0:w.to),new Date(null===w||void 0===w?void 0:w.from)),c=(null===w||void 0===w||null===(e=w.selectedData)||void 0===e?void 0:e.millage)||0+10*l+Number(h),o="meter"===(null===w||void 0===w||null===(t=w.selectedData)||void 0===t?void 0:t.type)?(null===w||void 0===w||null===(a=w.selectedData)||void 0===a?void 0:a.durability)-2*l:(null===w||void 0===w||null===(i=w.selectedData)||void 0===i?void 0:i.durability)-1*l,m=[Object(_.a)(Object(_.a)({},w.selectedData),{},{mileage:c,durability:o})].concat(Object(d.a)(r.filter((function(e){var t;return e.name!==(null===w||void 0===w||null===(t=w.selectedData)||void 0===t?void 0:t.name)}))));localStorage.setItem("apiData",JSON.stringify(m)),b(D()),u(!1),s(!1)},disabled:!h,children:"Yes"}),Object(v.jsx)("button",{className:"no_btn",onClick:T,children:"No"})]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{className:"not_available",children:"No booked product to return!"})," ",Object(v.jsx)("button",{className:"close_btn",onClick:T,children:"Close"})]})]})})},T=function(e){var t=e.setOpen4,a=Object(i.useState)(),n=Object(x.a)(a,2),r=n[0],l=n[1];return Object(i.useEffect)((function(){var e=setInterval((function(){l(localStorage.getItem("returnPrice"))}),100);return function(){return clearInterval(e)}}),[r]),Object(v.jsxs)("div",{className:"confirm_modal_wrapper",children:[Object(v.jsx)("h1",{children:"Book a product"}),Object(v.jsxs)("div",{className:"confirm_info",children:[Object(v.jsxs)("p",{children:["your estimated price is $",r]}),Object(v.jsx)("small",{children:" Do you want to proceed?"})]}),Object(v.jsx)("button",{onClick:function(){return t(!1)},children:"confirm"})]})},B=function(){var e=Object(i.useState)(!1),t=Object(x.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)(!1),l=Object(x.a)(r,2),c=l[0],o=l[1],s=Object(i.useState)(!1),d=Object(x.a)(s,2),u=d[0],b=d[1],m=Object(i.useState)(!1),j=Object(x.a)(m,2),p=j[0],O=j[1],f=Object(i.useState)({}),g=Object(x.a)(f,2),h=g[0],_=g[1],y=Object(i.useState)(0),S=Object(x.a)(y,2),N=S[0],D=S[1];return Object(v.jsxs)("div",{className:"btn_container",children:[Object(v.jsx)("button",{className:"btn1",onClick:function(){n(!0),b(!0)},children:"Book"}),a&&Object(v.jsx)(I,{setOpen:n,setOpen3:b,setSelectedItem:_,setPrice:D}),a?"":u&&Object(v.jsx)(C,{setOpen3:b,price:N,selectedItem:h}),Object(v.jsx)("button",{className:"btn2",onClick:function(){o(!0),O(!0)},children:"Return"}),c&&Object(v.jsx)(w,{setOpen2:o,setOpen4:O}),c?"":p&&Object(v.jsx)(T,{setOpen4:O})]})},E=a(5),F=[{Header:"Name",accessor:"name"},{Header:"Code",accessor:"code"},{Header:"Availability",accessor:function(e){return!0===e.availability?"true":"false"}},{Header:"Need To Repair",accessor:function(e){return!0===e.needing_repair?"true":"false"}},{Header:"Durability",accessor:"durability"},{Header:"Mileage",accessor:function(e){return null===e.mileage?0:e.mileage}}],A=function(e){var t=e.filter,a=e.setFilter,n=Object(i.useState)(t),r=Object(x.a)(n,2),l=r[0],c=r[1],o=Object(E.useAsyncDebounce)((function(e){a(e||void 0)}));return Object(v.jsxs)("div",{className:"search-wrapper",children:[Object(v.jsx)("h1",{children:"Rental"}),Object(v.jsx)("form",{children:Object(v.jsx)("input",{type:"text",placeholder:"Search",value:l||"",onChange:function(e){c(e.target.value),o(e.target.value)}})})]})},P=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.data.data}));Object(i.useEffect)((function(){e(D())}),[e]);var a=Object(i.useMemo)((function(){return F}),[]),n=Object(i.useMemo)((function(){return t}),[t]),r=Object(E.useTable)({columns:a,data:n},E.useGlobalFilter,E.useSortBy,E.usePagination),l=r.getTableBodyProps,c=r.getTableProps,s=r.headerGroups,d=r.prepareRow,u=r.page,b=r.nextPage,m=r.previousPage,j=r.canPreviousPage,p=r.canNextPage,O=r.state,f=r.pageOptions,g=r.gotoPage,h=r.setPageSize,y=r.setGlobalFilter,S=O.pageIndex,N=O.pageSize,I=O.globalFilter,C=Object(i.useState)(!1),k=Object(x.a)(C,2),w=k[0],T=k[1];return Object(i.useEffect)((function(){T(JSON.parse(localStorage.getItem("confirm")))}),[w]),Object(v.jsxs)("div",{className:"table_wrapper",children:[Object(v.jsx)(A,{filter:I,setFilter:y}),Object(v.jsxs)("table",Object(_.a)(Object(_.a)({},c()),{},{children:[Object(v.jsx)("thead",{children:s.map((function(e){return Object(v.jsx)("tr",Object(_.a)(Object(_.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(v.jsxs)("th",Object(_.a)(Object(_.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(v.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(v.jsx)("span",{children:"\u2228"}):Object(v.jsx)("span",{children:"\u2227"}):""})]}))}))}))}))}),Object(v.jsx)("tbody",Object(_.a)(Object(_.a)({},l()),{},{children:u.map((function(e){return d(e),Object(v.jsx)("tr",Object(_.a)(Object(_.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){var t;return Object(v.jsx)("td",Object(_.a)(Object(_.a)({},e.getCellProps()),{},{"data-label":null===e||void 0===e||null===(t=e.column)||void 0===t?void 0:t.Header,children:e.render("Cell")}))}))}))}))}))]})),Object(v.jsxs)("div",{className:"pagination",children:[Object(v.jsx)("div",{className:"select",children:Object(v.jsx)("select",{value:N,onChange:function(e){return h(Number(e.target.value))},children:[5,10,15,20].map((function(e){return Object(v.jsxs)("option",{value:e,children:["show ",e]},e)}))})}),Object(v.jsxs)("div",{className:"paginate_buttons",children:[Object(v.jsx)("button",{onClick:function(){return m()},disabled:!j,children:Object(v.jsx)("i",{className:"fas fa-chevron-left"})}),Object(v.jsxs)("span",{children:[Object(v.jsx)("input",{type:"number",defaultValue:S+1,onChange:function(e){g(e.target.value?Number(e.target.value)-1:0)}}),Object(v.jsxs)("small",{children:[S+1,"/",f.length]})]}),Object(v.jsx)("button",{onClick:function(){return b()},disabled:!p,children:Object(v.jsx)("i",{className:"fas fa-chevron-right"})})]})]}),Object(v.jsx)(B,{})]})},J=a(17),L=(a(30),function(){var e=Object(i.useState)(!0),t=Object(x.a)(e,2),a=t[0],n=t[1];return Object(i.useEffect)((function(){localStorage.getItem("apiData")||localStorage.setItem("apiData",JSON.stringify(J)),n(!1)}),[]),Object(v.jsx)("div",{className:"app",children:a?Object(v.jsx)("div",{children:"Loading ... "}):Object(v.jsx)(P,{})})});l.a.render(Object(v.jsx)(h,{children:Object(v.jsx)(L,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.ecb8b921.chunk.js.map