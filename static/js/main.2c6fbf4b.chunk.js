(this.webpackJsonplex=this.webpackJsonplex||[]).push([[0],{16:function(e){e.exports=JSON.parse('[{"code":"p1","name":"Air Compressor 12 GAS","type":"plain","availability":true,"needing_repair":false,"durability":3000,"max_durability":3000,"mileage":null,"price":4500,"minimum_rent_period":1},{"code":"p2","name":"Air Compressor 5 Electric","type":"plain","availability":true,"needing_repair":false,"durability":1500,"max_durability":2000,"mileage":null,"price":6500,"minimum_rent_period":1},{"code":"p3","name":"Dia Blade 14 inch","type":"plain","availability":true,"needing_repair":false,"durability":40000,"max_durability":50000,"mileage":null,"price":3000,"minimum_rent_period":2},{"code":"p4","name":"Copper Blade 5 inch","type":"plain","availability":false,"needing_repair":true,"durability":0,"max_durability":2000,"mileage":null,"price":200,"minimum_rent_period":2},{"code":"p5","name":"Copper Blade 5 inch","type":"plain","availability":false,"needing_repair":true,"durability":0,"max_durability":2000,"mileage":null,"price":200,"minimum_rent_period":2},{"code":"p6","name":"Copper Blade 8 inch","type":"plain","availability":true,"needing_repair":false,"durability":1500,"max_durability":2000,"mileage":null,"price":300,"minimum_rent_period":2},{"code":"p7","name":"Beam Clamp","type":"plain","availability":true,"needing_repair":false,"durability":15000,"max_durability":20000,"mileage":null,"price":800,"minimum_rent_period":30},{"code":"p8","name":"Beam Clamp","type":"plain","availability":true,"needing_repair":false,"durability":10000,"max_durability":20000,"mileage":null,"price":800,"minimum_rent_period":30},{"code":"p9","name":"Beam Clamp","type":"plain","availability":false,"needing_repair":false,"durability":5000,"max_durability":20000,"mileage":null,"price":800,"minimum_rent_period":30},{"code":"m1","name":"Boom lift 40","type":"meter","availability":true,"needing_repair":false,"durability":4000,"max_durability":8000,"mileage":10000,"price":1000,"minimum_rent_period":4},{"code":"m2","name":"Boom lift 60","type":"meter","availability":true,"needing_repair":false,"durability":8000,"max_durability":10000,"mileage":5000,"price":1500,"minimum_rent_period":4},{"code":"m3","name":"Boom lift 80","type":"meter","availability":false,"needing_repair":true,"durability":500,"max_durability":12000,"mileage":200,"price":2000,"minimum_rent_period":2},{"code":"m4","name":"Boom lift 100","type":"meter","availability":true,"needing_repair":false,"durability":4000,"max_durability":12000,"mileage":8500,"price":2500,"minimum_rent_period":2},{"code":"m5","name":"Boom lift 20","type":"meter","availability":true,"needing_repair":false,"durability":1200,"max_durability":8000,"mileage":600,"price":500,"minimum_rent_period":1},{"code":"m6","name":"Boom lift 20","type":"meter","availability":true,"needing_repair":false,"durability":8000,"max_durability":8000,"mileage":0,"price":500,"minimum_rent_period":1},{"code":"m7","name":"Boom lift 20","type":"meter","availability":true,"needing_repair":false,"durability":5000,"max_durability":8000,"mileage":1200,"price":500,"minimum_rent_period":1},{"code":"m8","name":"Boom lift 40","type":"meter","availability":true,"needing_repair":false,"durability":8000,"max_durability":10000,"mileage":2500,"price":1000,"minimum_rent_period":2}]')},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),r=a(9),c=a.n(r),l=a(7),o=a(4),s=a(15),u=a(17),d="DATA_LIST_REQUEST",b="DATA_LIST_SUCCESS",m="DATA_LIST_FAIL",j="FILTERED_LIST_SUCCESS",p="FILTERED_LIST_FAIL",O=Object(l.b)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0};case b:return{loading:!1,data:t.payload};case m:return{loading:!1,error:"something wrong"};default:return e}},confirmData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{datas:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{datas:[].concat(Object(u.a)(e.datas),[t.payload])};case p:return{error:"something wrong"};default:return e}}}),f=a(0),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,g=Object(l.d)(O,v(Object(l.a)(s.a))),h=function(e){var t=e.children;return Object(f.jsx)(o.a,{store:g,children:t})},x=a(2),_=a(3),y=function(e){var t,a=Object.assign({},e),n=a.setOpen,r=a.setOpen3,c=Object(o.c)((function(e){return e.data.data})),l=Object(i.useState)(0),s=Object(x.a)(l,2),u=s[0],d=s[1],b=Object(i.useState)(),m=Object(x.a)(b,2),j=m[0],p=m[1],O=Object(i.useState)(null===(t=c[0])||void 0===t?void 0:t.name),v=Object(x.a)(O,2),g=v[0],h=v[1],_=null===c||void 0===c?void 0:c.find((function(e){return e.name===g})),y=Object(i.useState)(""),S=Object(x.a)(y,2),N=S[0],C=S[1],I=Object(i.useState)(""),E=Object(x.a)(I,2),T=E[0],B=E[1],D=Object(i.useState)(),w=Object(x.a)(D,2),k=w[0],A=w[1];Object(i.useEffect)((function(){!function(e,t){var a=new Date(e),i=new Date(t).getTime()-a.getTime(),n=Math.round(i/864e5);A(n)}(N,T)}),[N,T]);var P;P=k>=(null===_||void 0===_?void 0:_.minimum_rent_period);var F=c.find((function(e){return e.name===g}));Object(i.useEffect)((function(){"meter"===F.type&&d(F.mileage)}),[d,F]);var L=c.find((function(e){return e.name===g}));Object(i.useEffect)((function(){"meter"===L.type&&p(L.durability-2*k),"plain"===L.type&&p(L.durability-1*k)}),[p,L,k]);var R=k*(null===_||void 0===_?void 0:_.price),M={selectedData:_,mileage:u,returningMileage:u+10*k,durability:j};return Object(f.jsxs)("div",{className:"BookModal_wrapper",children:[Object(f.jsx)("h1",{children:"Book a product"}),Object(f.jsxs)("select",{defaultValue:"DEFAULT",onChange:function(e){h(e.target.value)},children:[Object(f.jsx)("option",{value:"DEFAULT",disabled:!0,hidden:!0,children:g})," ",null===c||void 0===c?void 0:c.map((function(e,t){return Object(f.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(f.jsxs)("div",{className:"selectedItem_details",children:[Object(f.jsxs)("p",{children:["Name: ",null===_||void 0===_?void 0:_.name]}),Object(f.jsxs)("p",{children:["Rental: ",null===_||void 0===_?void 0:_.minimum_rent_period]}),Object(f.jsxs)("p",{children:["Milleage:"," ",null===(null===_||void 0===_?void 0:_.mileage)?"N/A":null===_||void 0===_?void 0:_.mileage]}),Object(f.jsxs)("p",{children:["Repair Needed:"," ",!1===(null===_||void 0===_?void 0:_.needing_repair)?"false":"true"]})]}),Object(f.jsxs)("div",{className:"dates",children:[Object(f.jsxs)("label",{htmlFor:"From",children:["From ",""]}),Object(f.jsx)("input",{type:"date",value:N,onChange:function(e){return function(e){C(e.target.value)}(e)}}),Object(f.jsxs)("label",{htmlFor:"To",children:["To ",""]}),Object(f.jsx)("input",{type:"date",value:T,onChange:function(e){return function(e){B(e.target.value)}(e)}})]}),Object(f.jsx)("span",{className:"err_msg",children:!1===isNaN(k)?!0===P?"":"The rental period needs to be at least ".concat(null===_||void 0===_?void 0:_.minimum_rent_period," day"):""}),Object(f.jsxs)("div",{className:"exit_buttons",children:[Object(f.jsx)("button",{className:!0===isNaN(k)||!1===P?"not_validate":"yes_btn",onClick:function(){n(!1);var e=setInterval((function(){localStorage.setItem("price",R),localStorage.setItem("selectedObj",JSON.stringify(M))}),100);return function(){return clearInterval(e)}},disabled:!0===isNaN(k)||!1===P,children:"Yes"}),Object(f.jsx)("button",{className:"no_btn",onClick:function(){r(!1),n(!1)},children:"No"})]})]})},S=a(6),N=a.n(S),C=a(14),I=function(e){var t=e.setOpen3,a=Object(i.useState)(),n=Object(x.a)(a,2),r=n[0],c=n[1],l=Object(i.useState)(),s=Object(x.a)(l,2),u=s[0],d=s[1];Object(i.useEffect)((function(){var e=setInterval((function(){c(localStorage.getItem("price"))}),100);return function(){return clearInterval(e)}}),[r]),Object(i.useEffect)((function(){d(JSON.parse(localStorage.getItem("selectedObj")))}),[u]);var b=Object(o.b)();return Object(f.jsxs)("div",{className:"confirm_modal_wrapper",children:[Object(f.jsx)("h1",{children:"Book a product"}),Object(f.jsxs)("div",{className:"confirm_info",children:[Object(f.jsxs)("p",{children:["your estimated price is $",r]}),Object(f.jsx)("small",{children:" Do you want to proceed?"})]}),Object(f.jsx)("button",{onClick:function(){var e;t(!1),b((e=u,function(){var t=Object(C.a)(N.a.mark((function t(a,i){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("data",e);try{a({type:j,payload:e}),localStorage.setItem("returnProduct",JSON.stringify(i().data))}catch(n){a({type:p,payload:"No data available!"})}case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()))},children:"confirm"})]})},E=function(e){var t,a,r=e.setOpen2,c=e.setOpen4,l=Object(i.useState)([]),o=Object(x.a)(l,2),s=o[0],u=o[1],d=Object(i.useState)(""),b=Object(x.a)(d,2),m=b[0],j=b[1],p=Object(i.useState)("Air Compressor 12 GAS"),O=Object(x.a)(p,2),v=O[0],g=O[1],h=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.find((function(e){return e.name===v}));n.a.useMemo((function(){u(JSON.parse(localStorage.getItem("returnProduct")))}),[u]),n.a.useMemo((function(){localStorage.setItem("returnPrice",null===h||void 0===h?void 0:h.price)}),[h]);return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"BookModal_wrapper",children:[Object(f.jsx)("h1",{children:"Book a product"}),Object(f.jsxs)("select",{defaultValue:"DEFAULT",onChange:function(e){g(e.target.value)},children:[Object(f.jsx)("option",{value:"DEFAULT",disabled:!0,hidden:!0,children:v})," ",null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.map((function(e,t){return Object(f.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(f.jsxs)("div",{className:"selectedItem_details",children:[Object(f.jsxs)("p",{children:["Name: ",null===h||void 0===h?void 0:h.name]}),Object(f.jsxs)("p",{children:["Rental: ",null===h||void 0===h?void 0:h.minimum_rent_period]}),Object(f.jsxs)("p",{children:["Milleage:"," ",null===(null===h||void 0===h?void 0:h.mileage)?"N/A":null===h||void 0===h?void 0:h.mileage]}),Object(f.jsxs)("p",{children:["Repair Needed:"," ",!1===(null===h||void 0===h?void 0:h.needing_repair)?"false":"true"]})]}),Object(f.jsx)("div",{className:"mileageCount",children:Object(f.jsx)("input",{type:"number",name:"mileage",value:m,placeholder:"used mileage",onChange:function(e){return j(e.target.value)}})}),Object(f.jsxs)("div",{className:"exit_buttons",children:[Object(f.jsx)("button",{className:"yes_btn",onClick:function(){return r(!1)},disabled:!m,children:"Yes"}),Object(f.jsx)("button",{className:"no_btn",onClick:function(){c(!1),r(!1)},children:"No"})]})]})})},T=function(e){var t=e.setOpen4,a=Object(i.useState)(),n=Object(x.a)(a,2),r=n[0],c=n[1];return Object(i.useEffect)((function(){var e=setInterval((function(){c(localStorage.getItem("returnPrice"))}),100);return function(){return clearInterval(e)}}),[r]),Object(f.jsxs)("div",{className:"confirm_modal_wrapper",children:[Object(f.jsx)("h1",{children:"Book a product"}),Object(f.jsxs)("div",{className:"confirm_info",children:[Object(f.jsxs)("p",{children:["your estimated price is $",r]}),Object(f.jsx)("small",{children:" Do you want to proceed?"})]}),Object(f.jsx)("button",{onClick:function(){return t(!1)},children:"confirm"})]})},B=function(){var e=Object(i.useState)(!1),t=Object(x.a)(e,2),a=t[0],n=t[1],r=Object(i.useState)(!1),c=Object(x.a)(r,2),l=c[0],o=c[1],s=Object(i.useState)(!1),u=Object(x.a)(s,2),d=u[0],b=u[1],m=Object(i.useState)(!1),j=Object(x.a)(m,2),p=j[0],O=j[1];return Object(f.jsxs)("div",{className:"btn_container",children:[Object(f.jsx)("button",{className:"btn1",onClick:function(){n(!0),b(!0)},children:"Book"}),a&&Object(f.jsx)(y,{setOpen:n,setOpen3:b}),a?"":d&&Object(f.jsx)(I,{setOpen3:b}),Object(f.jsx)("button",{className:"btn2",onClick:function(){o(!0),O(!0)},children:"Return"}),l&&Object(f.jsx)(E,{setOpen2:o,setOpen4:O}),l?"":p&&Object(f.jsx)(T,{setOpen4:O})]})},D=a(5),w=[{Header:"Name",accessor:"name"},{Header:"Code",accessor:"code"},{Header:"Availability",accessor:function(e){return!0===e.availability?"true":"false"}},{Header:"Need To Repair",accessor:function(e){return!0===e.needing_repair?"true":"false"}},{Header:"Durability",accessor:"durability"},{Header:"Mileage",accessor:function(e){return null===e.mileage?"null":e.mileage}}],k=function(e){var t=e.filter,a=e.setFilter,n=Object(i.useState)(t),r=Object(x.a)(n,2),c=r[0],l=r[1],o=Object(D.useAsyncDebounce)((function(e){a(e||void 0)}));return Object(f.jsxs)("div",{className:"search-wrapper",children:[Object(f.jsx)("h1",{children:"Rental"}),Object(f.jsx)("form",{children:Object(f.jsx)("input",{type:"text",placeholder:"Search",value:c||"",onChange:function(e){l(e.target.value),o(e.target.value)}})})]})},A=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.data.data}));Object(i.useEffect)((function(){e(function(){var e=Object(C.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{null===localStorage.getItem("apiData")?localStorage.setItem("apiData",JSON.stringify([])):(a=JSON.parse(localStorage.getItem("apiData")),t({type:b,payload:a}))}catch(i){t({type:m,payload:"Something Wrong 500!"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var a=Object(i.useMemo)((function(){return w}),[]),n=Object(i.useMemo)((function(){return t}),[t]),r=Object(D.useTable)({columns:a,data:n},D.useGlobalFilter,D.useSortBy,D.usePagination),c=r.getTableBodyProps,l=r.getTableProps,s=r.headerGroups,u=r.prepareRow,d=r.page,j=r.nextPage,p=r.previousPage,O=r.canPreviousPage,v=r.canNextPage,g=r.state,h=r.pageOptions,y=r.gotoPage,S=r.setPageSize,I=r.setGlobalFilter,E=g.pageIndex,T=g.pageSize,A=g.globalFilter,P=Object(i.useState)(!1),F=Object(x.a)(P,2),L=F[0],R=F[1];return Object(i.useEffect)((function(){R(JSON.parse(localStorage.getItem("confirm")))}),[L]),Object(f.jsxs)("div",{className:"table_wrapper",children:[Object(f.jsx)(k,{filter:A,setFilter:I}),Object(f.jsxs)("table",Object(_.a)(Object(_.a)({},l()),{},{children:[Object(f.jsx)("thead",{children:s.map((function(e){return Object(f.jsx)("tr",Object(_.a)(Object(_.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsxs)("th",Object(_.a)(Object(_.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(f.jsx)("span",{children:"\u2228"}):Object(f.jsx)("span",{children:"\u2227"}):""})]}))}))}))}))}),Object(f.jsx)("tbody",Object(_.a)(Object(_.a)({},c()),{},{children:d.map((function(e){return u(e),Object(f.jsx)("tr",Object(_.a)(Object(_.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){var t;return Object(f.jsx)("td",Object(_.a)(Object(_.a)({},e.getCellProps()),{},{"data-label":null===e||void 0===e||null===(t=e.column)||void 0===t?void 0:t.Header,children:e.render("Cell")}))}))}))}))}))]})),Object(f.jsxs)("div",{className:"pagination",children:[Object(f.jsx)("div",{className:"select",children:Object(f.jsx)("select",{value:T,onChange:function(e){return S(Number(e.target.value))},children:[5,10,15,20].map((function(e){return Object(f.jsxs)("option",{value:e,children:["show ",e]},e)}))})}),Object(f.jsxs)("div",{className:"paginate_buttons",children:[Object(f.jsx)("button",{onClick:function(){return p()},disabled:!O,children:Object(f.jsx)("i",{className:"fas fa-chevron-left"})}),Object(f.jsxs)("span",{children:[Object(f.jsx)("input",{type:"number",defaultValue:E+1,onChange:function(e){y(e.target.value?Number(e.target.value)-1:0)}}),Object(f.jsxs)("small",{children:[E+1,"/",h.length]})]}),Object(f.jsx)("button",{onClick:function(){return j()},disabled:!v,children:Object(f.jsx)("i",{className:"fas fa-chevron-right"})})]})]}),Object(f.jsx)(B,{})]})},P=a(16),F=(a(29),function(){var e=Object(i.useState)(!0),t=Object(x.a)(e,2),a=t[0],n=t[1];return Object(i.useEffect)((function(){localStorage.getItem("apiData")||localStorage.setItem("apiData",JSON.stringify(P)),n(!1)}),[]),Object(f.jsx)("div",{className:"app",children:a?Object(f.jsx)("div",{children:"Loading ... "}):Object(f.jsx)(A,{})})});c.a.render(Object(f.jsx)(h,{children:Object(f.jsx)(F,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.2c6fbf4b.chunk.js.map